class CfgSkeletons
{
	class ADFRC_M107_Skeleton
	{
		isDiscrete=1;
		skeletonInherit = "";
		skeletonBones[] =
		{
			"Bolt_Group",		"", /// not in this model, but good to use
			"Bolt_Assembly",			"Bolt_Group",
			"Barrel",			"",
			"Brake",           "Barrel",
			"zasleh",			"",
			"Magazine",	    "",
			"Trigger",		"",
			"Monopod",		"",
			"Rear_Sight",		"",
			"Front_Sight",		"",
			"barrett_m107a1_body_magazine_catch",		"",
			"safety",	"",
			"bipod_leg_L",      "",
				"leg_L",		"bipod_leg_L",
			"bipod_leg_R",      "",
				"leg_R",		"bipod_leg_R"
		};
	};

};

class CfgModels
{
	class ADFRC_M107A1
	{
		sectionsInherit="";
		sections[] = {"Rifle","zasleh","camo1","camo2"};
		skeletonName = "ADFRC_M107_Skeleton";
		class Animations
		{
		/* magazine hide animations */
			class magazine_removed
			{
				source			="hasMagazine";
				type			="hide";
				selection		="magazine";
				minValue		=0;
				maxValue		=1;
				hideValue		=0.1;
				unhideValue		=-1;
			};

			/* Reload Animation - mag release  */
			class reload_magazine_release_01									///Mag Release pressed
			{
				source			="reloadMagazine";
				type			="rotation";
				selection		="barrett_m107a1_body_magazine_catch";
				axis			="magazine_release_axis";
				minValue		=0.107692;
				maxValue		=0.128205;
				angle0			=0;
				angle1			=(rad -12);
			};
			class reload_magazine_release_02: reload_magazine_release_01		///Mag Release Let go
			{
				minValue		=0.141026;
				maxValue		=0.153846;
				angle0			=0;
				angle1			=(rad 12);
			};
			class reload_magazine_release_03: reload_magazine_release_01		///Mag Release insert pressed
			{
				minValue		=0.494872;
				maxValue		=0.502564;
				angle0			=0;
				angle1			=(rad -12);
			};
			class reload_magazine_release_04: reload_magazine_release_01		///Mag Release insert let go
			{
				minValue		=0.512821;
				maxValue		=0.525641;
				angle0			=0;
				angle1			=(rad 12);
			};
			
			/* Reload Animation - magazine  */
			class reload_magazine_01								///Mag remove - rotate
			{
				source			="reloadMagazine";
				type			="rotation";
				selection		="magazine";
				axis			="magazine_rot_axis";
				minValue		=0.128205;
				maxValue		=0.153846;
				angle0			=0;
				angle1			=(rad 12);
			};
			class reload_magazine_02								///Mag remove - out
			{
				source			="reloadMagazine";
				type			="translation";
				selection		="magazine";
				axis			="magazine_axis";
				minValue		=0.205128;
				maxValue		=0.230769;
				offset0			=0;
				offset1			=1;
			};
			class reload_magazine_03: reload_magazine_02			///Mag Insert - in
			{
				minValue		=0.423077;
				maxValue		=0.448718;
				offset0			=0;
				offset1			=-1;
			};
			class reload_magazine_04: reload_magazine_01			///Mag Insert - rotate
			{
				minValue		=0.487179;
				maxValue		=0.512821;
				angle0			=0;
				angle1			=(rad -12);
			};
			
			/* Reload Animation - bolt  */
			class reload_bolt_01
			{
				sourceAddress	="clamp";
				source			="reloadMagazine";
				type			="translation";
				selection		="bolt_group";
				axis			="bolt_axis";
				minValue		=0.769231;
				maxValue		=0.802564;
				offset0			=0;
				offset1			=1;
			};
			class reload_bolt_02: reload_bolt_01
			{
				minValue		=0.830769;
				maxValue		=0.848718;
				offset0			=0;
				offset1			=-1;
			};
			
			/* Reload  Animation - Hide Magazine  */
			class reload_magazine_hide
			{
				source			="reloadMagazine";
				type			="hide";
				selection		="magazine";
				minValue		=0;
				maxValue		=1;
                hideValue		=0.230769;
                unHideValue		=0.423077;
			};

		class bolt_back
			{
				type = "translation";
				source = "reload";
				sourceAddress = "clamp";
				selection = "Bolt_Group";
				axis = "bolt_axis";
				minValue = 0.6;
				maxValue = 1;
				offset0 = 0;
				offset1 = -0.9;
			};
		class barrel_back
			{
				type = "translation";
				source = "reload";
				sourceAddress = "clamp";
				selection = "Barrel";
				axis = "bolt_axis";
				minValue = 0.85;
				maxValue = 1;
				offset0 = 0;
				offset1 = -0.1;
			};
			
		class bolt_forward
			{
				type = "translation";
				source = "reload";
				sourceAddress = "clamp";
				selection = "Bolt_Group";
				axis = "bolt_axis";
				minValue = 0;
				maxValue = 0.6;
				offset0 = 0;
				offset1 = 0.9;
			};
		class barrel_forward
			{
				type = "translation";
				source = "reload";
				sourceAddress = "clamp";
				selection = "Barrel";
				axis = "bolt_axis";
				minValue = 0.6;
				maxValue = 0.8;
				offset0 = 0;
				offset1 = 0.1;
			};
		class no_brake_Muzz
			{
				type="hide";
				source="hasSuppressor";
				selection="Brake";
				minValue=0.0000;
				maxValue=1.000;
				hideValue=0.5;
			};

		class no_magazine
			{
				type="hide";
				source="hasMagazine";
				selection="magazine";
				minValue=0.000000;
				maxValue=1.00000;
				hideValue=0.5;
				unhideValue = -1.0;
			};	
			class Rear_monopod
			{
				type			= hide;
				source			= bipod;
				sourceAddress	= clamp;
				selection		= "Monopod";
				minValue=0.000000;
				maxValue=1.00000;
				hideValue=0;
				unhideValue = 1;
			};
			class leg_L
			{
				type			= rotation;
				source			= bipod;
				sourceAddress	= clamp;
				selection		= "bipod_leg_L";
				axis			= "bipod_leg_L_axis";
				minValue		= 0;
				maxValue		= 1;
				angle0			= (rad 0);
				angle1			= (rad -90);
			};

			class leg_R: leg_L
			{
				selection		= "bipod_leg_R";
				axis			= "bipod_leg_R_axis";
			};		
			
			class Leg_L_move
			{
				type			= translation;
				source			= bipod_length;
				selection		= "Leg_L";
				axis			= "Leg_L_axis";
				memory			= 1;
				minValue		= 0;
				maxValue		= 1;
				offset0			= 0;
				offset1			= 1.7;
			};	
			class Leg_R_move: Leg_L_move
			{
				selection		= "Leg_R";
				axis			= "Leg_R_axis";
		};
			
		class Backup_Sights_Front
		{
    type            = rotation;
    source            = "hasOptics";
    selection        = "Front_Sight";
    axis            = "Front_Sight_axis";
    memory            = 1;
    minValue        = 0;
    maxValue        = 1;
    angle0            = 0;
    angle1            = (rad 92);
		};
		
		class Backup_Sights_Rear
		{
    type            = rotation;
    source            = "hasOptics";
    selection        = "Rear_Sight";
    axis            = "Rear_Sight_axis";
    memory            = 1;
    minValue        = 0;
    maxValue        = 1;
    angle0            = 0;
    angle1            = (rad -90);
		};
			
		class trigger /// not in this model, but good to use
			{
				type = "rotation";
				source = "reload";
				sourceAddress = "clamp";
				selection = "trigger";
				axis = "trigger_axis";
				minValue = 0;
				maxValue = "0.5";
				angle0 = "0";
				angle1 = "rad -7";
			};
		class muzzleFlashROT
			{
				type="rotationX";
				source="ammoRandom";      //use ammo count as phase for animation
				sourceAddress="loop";     //loop when phase out of bounds
				selection="zasleh";  //selection we want to rotate
				axis="";                  //no own axis - center of rotation is computed from selection
				centerFirstVertex=true;   //use first vertex of selection as center of rotation
				minValue=0;
				maxValue=4;               //rotation angle will be 360/4 = 90 degrees
				angle0="rad 0";
				angle1="rad 360";
			};
			
		class muzzleflash_hide
{
    type="hide";
    source="hasSuppressor";
    selection="zasleh";
    minValue = 0.0;
    maxvalue = 0.25;
    hideValue = 0.01;
};
		class safety_mode_rot
		{
    type            = rotation;
    source            = weaponMode;
    selection        = "safety";
    axis            = "safety_axis";
    memory            = 1;
    minValue        = 0;
    maxValue        = 0.25;
    angle0            = 0;
    angle1            = (rad -90);
		};
		
		class safety_mode_safe_rot: safety_mode_rot
		{
    source=weaponMuzzle;
    minValue=0.99;
    maxValue=1;
    angle0=0;
    angle1=(rad 0);
		};
		};
	};
	
class MSS_M107A1_20: MSS_M107A1
	{};
	
	};